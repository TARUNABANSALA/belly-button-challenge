
// // Define the URL for the JSON file
// const url = 'https://2u-data-curriculum-team.s3.amazonaws.com/dataviz-classroom/v1.1/14-Interactive-Web-Visualizations/02-Homework/samples.json';

// // Use D3 to make the AJAX request
// d3.json(url).then(data => {
//   const samples = data.samples;
//   // Get the top 10 OTUs
//   const top10OTUs = samples[0].sample_values.slice(0, 10);
//   const top10IDs = samples[0].otu_ids.slice(0, 10);
//   const top10Labels = samples[0].otu_labels.slice(0, 10);
//   console.log(samples[0]);

// // Create the trace object
//   const trace = {
//     x: top10OTUs,
//     y: top10IDs,
//     type: 'bar',
//     orientation: 'h',
//   };

//   // Create the data array
//   const plot_data = [trace];

//   // Create the layout object
//   const layout = {
//     title: 'Top 10 OTUs',
//     xaxis: {
//       title: 'Sample Values',
//     },
//     yaxis: {
//       title: 'OTU IDs',
//       automargin: true,
//     },
// };});

// // Plot the chart
// Plotly.newPlot('plot', plot_data, layout);
// Define the URL for the JSON file
const url = 'https://2u-data-curriculum1-team.s3.amazonaws.com/dataviz-classroom/v1.1/14-Interactive-Web-Visualizations/02-Homework/samples.json';

// Use D3 to make the AJAX request
d3.json(url).then(data => {
  const samples = data.samples;
  const otuIDs = samples[0].otu_ids;
  const sampleValues = samples[0].sample_values;
  const otuLabels = samples[0].otu_labels;

  // Create the trace object
  const trace = {
    x: otuIDs,
    y: sampleValues,
    text: otuLabels,
    mode: 'markers',
    marker: {
      size: sampleValues,
      color: otuIDs,
      colorscale: 'Viridis',
    },
  };

  // Create the data array
  const bubbledata = [trace];

  // Create the layout object
  const layout = {
    title: 'Bubble Chart',
    xaxis: {
      title: 'OTU IDs',
    },
    yaxis: {
      title: 'Sample Values',
    },
    showlegend: false,
  };

  // Plot the chart
  Plotly.newPlot('plot', bubbledata, layout);
}).catch(error => {
  myFunction();
});

function myFunction() {
  // Define the path to your JSON file
const path = 'samples.json';

// Use D3 to fetch the JSON data
d3.json(path).then(data => {
  // Data is available here
  console.log(data);
}).catch(error => {
  // Error handling
  console.log('Error loading data:', error);
});
}